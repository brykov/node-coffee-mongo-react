(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var templates,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

templates = {};

templates['App'] = require('./templates/app.jsx');

templates['TypeBox'] = require('./templates/type_box.jsx');

templates['FancyInput'] = require('./templates/fancy_input.jsx');

window.FancyInput = (function(superClass) {
  extend(FancyInput, superClass);

  function FancyInput() {
    this.render = bind(this.render, this);
    this.changeHandler = bind(this.changeHandler, this);
    this.componentWillMount = bind(this.componentWillMount, this);
    return FancyInput.__super__.constructor.apply(this, arguments);
  }

  FancyInput.prototype.componentWillMount = function() {
    return this.setState({
      data: this.props.provider.state.data
    });
  };

  FancyInput.prototype.changeHandler = function(e) {
    var data;
    data = this.state.data;
    data[this.props.name] = e.target.value;
    return this.setState({
      data: data
    });
  };

  FancyInput.prototype.render = function() {
    return templates['FancyInput'].bind(this)();
  };

  return FancyInput;

})(React.Component);

window.TypeBox = (function(superClass) {
  extend(TypeBox, superClass);

  function TypeBox() {
    this.render = bind(this.render, this);
    this.componentDidMount = bind(this.componentDidMount, this);
    this.componentWillMount = bind(this.componentWillMount, this);
    this.save = bind(this.save, this);
    this.cancelEditMode = bind(this.cancelEditMode, this);
    this.editMode = bind(this.editMode, this);
    return TypeBox.__super__.constructor.apply(this, arguments);
  }

  TypeBox.prototype.editMode = function() {
    return this.setState({
      editMode: true
    });
  };

  TypeBox.prototype.cancelEditMode = function() {
    if (this.state.data._new) {
      return this.props.app.delNodeType(this.state.data);
    }
    return this.setState({
      editMode: false,
      data: _.clone(this.data_copy)
    });
  };

  TypeBox.prototype.save = function() {
    this.props.app.save();
    this.data_copy = _.clone(this.state.data);
    return this.setState({
      editMode: false,
      _new: false
    });
  };

  TypeBox.prototype.componentWillMount = function() {
    return this.setState({
      editMode: !!this.props.data._new,
      data: this.props.data
    });
  };

  TypeBox.prototype.componentDidMount = function() {
    return this.data_copy = _.clone(this.props.data);
  };

  TypeBox.prototype.render = function() {
    return templates['TypeBox'].bind(this)();
  };

  return TypeBox;

})(React.Component);

window.App = (function(superClass) {
  extend(App, superClass);

  function App() {
    this.render = bind(this.render, this);
    this.save = bind(this.save, this);
    this.componentDidMount = bind(this.componentDidMount, this);
    this.loadNodeTypes = bind(this.loadNodeTypes, this);
    this.delNodeType = bind(this.delNodeType, this);
    this.newNodeType = bind(this.newNodeType, this);
    this.componentWillMount = bind(this.componentWillMount, this);
    return App.__super__.constructor.apply(this, arguments);
  }

  App.prototype.componentWillMount = function() {
    return this.setState({
      node_types: []
    });
  };

  App.prototype.newNodeType = function() {
    var list;
    list = this.state.node_types;
    list.push({
      _id: (new Date).valueOf(),
      _new: true,
      name: '',
      title: ''
    });
    this.setState({
      node_types: list
    });
  };

  App.prototype.delNodeType = function(el) {
    var list;
    list = this.state.node_types;
    list.splice(list.indexOf(el), 1);
    this.setState({
      node_types: list
    });
  };

  App.prototype.loadNodeTypes = function() {
    qwest.get('/node_types').then((function(_this) {
      return function(xhr, response) {
        _this.setState({
          node_types: response['node_types']
        });
      };
    })(this));
  };

  App.prototype.componentDidMount = function() {
    this.loadNodeTypes();
  };

  App.prototype.save = function() {
    qwest.post('/node_types', {
      node_types: this.state.node_types
    }, {
      dataType: 'json'
    }).then((function(_this) {
      return function(xhr, response) {
        if (response.success === 'OK') {
          _this.loadNodeTypes();
        }
      };
    })(this))["catch"](function(e, xhr, response) {});
  };

  App.prototype.render = function() {
    return templates['App'].bind(this)();
  };

  return App;

})(React.Component);

ReactDOM.render(React.createElement(App), document.getElementById('react-app'));


},{"./templates/app.jsx":2,"./templates/fancy_input.jsx":3,"./templates/type_box.jsx":4}],2:[function(require,module,exports){
module.exports = function () {
  var type_box_list = this.state.node_types.map(function(type) 
      {return React.createElement(TypeBox, {data: type, app: this, key: type._id});}.bind(this)
  );

  return (
    React.createElement("div", {className: "app"}, 
      React.createElement("button", {onClick: this.newNodeType}, "ADD"), 
      type_box_list
    )
  );
};

},{}],3:[function(require,module,exports){
module.exports = function () {
  return(
    React.createElement("input", {type: "text", defaultValue: this.state.data[this.props.name], onChange: this.changeHandler})
  );
};

},{}],4:[function(require,module,exports){
module.exports = function () {
  var _view =
    React.createElement("div", {className: "type-box"}, 
      this.state.data.name, 
      "/", 
      this.state.data.title, 
      React.createElement("button", {onClick: this.editMode}, "EDIT")
    );
  var _edit =
    React.createElement("div", {className: "type-box"}, 
      React.createElement(FancyInput, {provider: this, name: "name"}), 
      "/", 
      React.createElement(FancyInput, {provider: this, name: "title"}), 
      React.createElement("button", {onClick: this.save}, "SAVE"), 
      React.createElement("button", {onClick: this.cancelEditMode}, "CANCEL")
    );
  return this.state.editMode ? _edit : _view;
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvaXZhbi9wcm9qZWN0cy9vd24vZW5naW5vLXJ1LTEvcHVibGljL2phdmFzY3JpcHRzL21haW4uY29mZmVlIiwiL1VzZXJzL2l2YW4vcHJvamVjdHMvb3duL2VuZ2luby1ydS0xL3B1YmxpYy9qYXZhc2NyaXB0cy90ZW1wbGF0ZXMvYXBwLmpzeCIsIi9Vc2Vycy9pdmFuL3Byb2plY3RzL293bi9lbmdpbm8tcnUtMS9wdWJsaWMvamF2YXNjcmlwdHMvdGVtcGxhdGVzL2ZhbmN5X2lucHV0LmpzeCIsIi9Vc2Vycy9pdmFuL3Byb2plY3RzL293bi9lbmdpbm8tcnUtMS9wdWJsaWMvamF2YXNjcmlwdHMvdGVtcGxhdGVzL3R5cGVfYm94LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLElBQUksU0FBUztFQUNYLElBQUksR0FBRyxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sVUFBVSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtFQUNoRixNQUFNLEdBQUcsU0FBUyxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksR0FBRyxJQUFJLE1BQU0sRUFBRSxFQUFFLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsU0FBUyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMs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QUFVLEVBQUEsQ0FBQSxDQUFDLFFBQUEsRUFBUSxDQUFFLElBQUksRUFBQyxDQUFDLElBQUEsRUFBSSxDQUFDLE9BQU8sQ0FBRSxDQUFBLEVBQUE7TUFDMUMsb0JBQUEsUUFBTyxFQUFBLENBQUEsQ0FBQyxPQUFBLEVBQU8sQ0FBRSxJQUFJLENBQUMsSUFBTSxDQUFBLEVBQUEsTUFBYSxDQUFBLEVBQUE7TUFDekMsb0JBQUEsUUFBTyxFQUFBLENBQUEsQ0FBQyxPQUFBLEVBQU8sQ0FBRSxJQUFJLENBQUMsY0FBZ0IsQ0FBQSxFQUFBLFFBQWUsQ0FBQTtJQUNqRCxDQUFBLENBQUM7RUFDVCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUM7Q0FDNUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIHRlbXBsYXRlcyxcbiAgYmluZCA9IGZ1bmN0aW9uKGZuLCBtZSl7IHJldHVybiBmdW5jdGlvbigpeyByZXR1cm4gZm4uYXBwbHkobWUsIGFyZ3VtZW50cyk7IH07IH0sXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG50ZW1wbGF0ZXMgPSB7fTtcblxudGVtcGxhdGVzWydBcHAnXSA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzL2FwcC5qc3gnKTtcblxudGVtcGxhdGVzWydUeXBlQm94J10gPSByZXF1aXJlKCcuL3RlbXBsYXRlcy90eXBlX2JveC5qc3gnKTtcblxudGVtcGxhdGVzWydGYW5jeUlucHV0J10gPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9mYW5jeV9pbnB1dC5qc3gnKTtcblxud2luZG93LkZhbmN5SW5wdXQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoRmFuY3lJbnB1dCwgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gRmFuY3lJbnB1dCgpIHtcbiAgICB0aGlzLnJlbmRlciA9IGJpbmQodGhpcy5yZW5kZXIsIHRoaXMpO1xuICAgIHRoaXMuY2hhbmdlSGFuZGxlciA9IGJpbmQodGhpcy5jaGFuZ2VIYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLmNvbXBvbmVudFdpbGxNb3VudCA9IGJpbmQodGhpcy5jb21wb25lbnRXaWxsTW91bnQsIHRoaXMpO1xuICAgIHJldHVybiBGYW5jeUlucHV0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgRmFuY3lJbnB1dC5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZGF0YTogdGhpcy5wcm9wcy5wcm92aWRlci5zdGF0ZS5kYXRhXG4gICAgfSk7XG4gIH07XG5cbiAgRmFuY3lJbnB1dC5wcm90b3R5cGUuY2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBkYXRhID0gdGhpcy5zdGF0ZS5kYXRhO1xuICAgIGRhdGFbdGhpcy5wcm9wcy5uYW1lXSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KTtcbiAgfTtcblxuICBGYW5jeUlucHV0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVzWydGYW5jeUlucHV0J10uYmluZCh0aGlzKSgpO1xuICB9O1xuXG4gIHJldHVybiBGYW5jeUlucHV0O1xuXG59KShSZWFjdC5Db21wb25lbnQpO1xuXG53aW5kb3cuVHlwZUJveCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChUeXBlQm94LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBUeXBlQm94KCkge1xuICAgIHRoaXMucmVuZGVyID0gYmluZCh0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgdGhpcy5jb21wb25lbnREaWRNb3VudCA9IGJpbmQodGhpcy5jb21wb25lbnREaWRNb3VudCwgdGhpcyk7XG4gICAgdGhpcy5jb21wb25lbnRXaWxsTW91bnQgPSBiaW5kKHRoaXMuY29tcG9uZW50V2lsbE1vdW50LCB0aGlzKTtcbiAgICB0aGlzLnNhdmUgPSBiaW5kKHRoaXMuc2F2ZSwgdGhpcyk7XG4gICAgdGhpcy5jYW5jZWxFZGl0TW9kZSA9IGJpbmQodGhpcy5jYW5jZWxFZGl0TW9kZSwgdGhpcyk7XG4gICAgdGhpcy5lZGl0TW9kZSA9IGJpbmQodGhpcy5lZGl0TW9kZSwgdGhpcyk7XG4gICAgcmV0dXJuIFR5cGVCb3guX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBUeXBlQm94LnByb3RvdHlwZS5lZGl0TW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGVkaXRNb2RlOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgVHlwZUJveC5wcm90b3R5cGUuY2FuY2VsRWRpdE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kYXRhLl9uZXcpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmFwcC5kZWxOb2RlVHlwZSh0aGlzLnN0YXRlLmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBlZGl0TW9kZTogZmFsc2UsXG4gICAgICBkYXRhOiBfLmNsb25lKHRoaXMuZGF0YV9jb3B5KVxuICAgIH0pO1xuICB9O1xuXG4gIFR5cGVCb3gucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLmFwcC5zYXZlKCk7XG4gICAgdGhpcy5kYXRhX2NvcHkgPSBfLmNsb25lKHRoaXMuc3RhdGUuZGF0YSk7XG4gICAgcmV0dXJuIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZWRpdE1vZGU6IGZhbHNlLFxuICAgICAgX25ldzogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICBUeXBlQm94LnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBlZGl0TW9kZTogISF0aGlzLnByb3BzLmRhdGEuX25ldyxcbiAgICAgIGRhdGE6IHRoaXMucHJvcHMuZGF0YVxuICAgIH0pO1xuICB9O1xuXG4gIFR5cGVCb3gucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YV9jb3B5ID0gXy5jbG9uZSh0aGlzLnByb3BzLmRhdGEpO1xuICB9O1xuXG4gIFR5cGVCb3gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0ZW1wbGF0ZXNbJ1R5cGVCb3gnXS5iaW5kKHRoaXMpKCk7XG4gIH07XG5cbiAgcmV0dXJuIFR5cGVCb3g7XG5cbn0pKFJlYWN0LkNvbXBvbmVudCk7XG5cbndpbmRvdy5BcHAgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQXBwLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBBcHAoKSB7XG4gICAgdGhpcy5yZW5kZXIgPSBiaW5kKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICB0aGlzLnNhdmUgPSBiaW5kKHRoaXMuc2F2ZSwgdGhpcyk7XG4gICAgdGhpcy5jb21wb25lbnREaWRNb3VudCA9IGJpbmQodGhpcy5jb21wb25lbnREaWRNb3VudCwgdGhpcyk7XG4gICAgdGhpcy5sb2FkTm9kZVR5cGVzID0gYmluZCh0aGlzLmxvYWROb2RlVHlwZXMsIHRoaXMpO1xuICAgIHRoaXMuZGVsTm9kZVR5cGUgPSBiaW5kKHRoaXMuZGVsTm9kZVR5cGUsIHRoaXMpO1xuICAgIHRoaXMubmV3Tm9kZVR5cGUgPSBiaW5kKHRoaXMubmV3Tm9kZVR5cGUsIHRoaXMpO1xuICAgIHRoaXMuY29tcG9uZW50V2lsbE1vdW50ID0gYmluZCh0aGlzLmNvbXBvbmVudFdpbGxNb3VudCwgdGhpcyk7XG4gICAgcmV0dXJuIEFwcC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEFwcC5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbm9kZV90eXBlczogW11cbiAgICB9KTtcbiAgfTtcblxuICBBcHAucHJvdG90eXBlLm5ld05vZGVUeXBlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxpc3Q7XG4gICAgbGlzdCA9IHRoaXMuc3RhdGUubm9kZV90eXBlcztcbiAgICBsaXN0LnB1c2goe1xuICAgICAgX2lkOiAobmV3IERhdGUpLnZhbHVlT2YoKSxcbiAgICAgIF9uZXc6IHRydWUsXG4gICAgICBuYW1lOiAnJyxcbiAgICAgIHRpdGxlOiAnJ1xuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbm9kZV90eXBlczogbGlzdFxuICAgIH0pO1xuICB9O1xuXG4gIEFwcC5wcm90b3R5cGUuZGVsTm9kZVR5cGUgPSBmdW5jdGlvbihlbCkge1xuICAgIHZhciBsaXN0O1xuICAgIGxpc3QgPSB0aGlzLnN0YXRlLm5vZGVfdHlwZXM7XG4gICAgbGlzdC5zcGxpY2UobGlzdC5pbmRleE9mKGVsKSwgMSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBub2RlX3R5cGVzOiBsaXN0XG4gICAgfSk7XG4gIH07XG5cbiAgQXBwLnByb3RvdHlwZS5sb2FkTm9kZVR5cGVzID0gZnVuY3Rpb24oKSB7XG4gICAgcXdlc3QuZ2V0KCcvbm9kZV90eXBlcycpLnRoZW4oKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oeGhyLCByZXNwb25zZSkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbm9kZV90eXBlczogcmVzcG9uc2VbJ25vZGVfdHlwZXMnXVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSkodGhpcykpO1xuICB9O1xuXG4gIEFwcC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxvYWROb2RlVHlwZXMoKTtcbiAgfTtcblxuICBBcHAucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICBxd2VzdC5wb3N0KCcvbm9kZV90eXBlcycsIHtcbiAgICAgIG5vZGVfdHlwZXM6IHRoaXMuc3RhdGUubm9kZV90eXBlc1xuICAgIH0sIHtcbiAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICB9KS50aGVuKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHhociwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgPT09ICdPSycpIHtcbiAgICAgICAgICBfdGhpcy5sb2FkTm9kZVR5cGVzKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkodGhpcykpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSwgeGhyLCByZXNwb25zZSkge30pO1xuICB9O1xuXG4gIEFwcC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlc1snQXBwJ10uYmluZCh0aGlzKSgpO1xuICB9O1xuXG4gIHJldHVybiBBcHA7XG5cbn0pKFJlYWN0LkNvbXBvbmVudCk7XG5cblJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWFjdC1hcHAnKSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWJXRnBiaTVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6SWpwYkltMWhhVzR1WTI5bVptVmxJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCTEVsQlFVRXNVMEZCUVR0RlFVRkJPenM3TzBGQlFVRXNVMEZCUVN4SFFVRlpPenRCUVVOYUxGTkJRVlVzUTBGQlFTeExRVUZCTEVOQlFWWXNSMEZCYlVJc1QwRkJRU3hEUVVGUkxIRkNRVUZTT3p0QlFVTnVRaXhUUVVGVkxFTkJRVUVzVTBGQlFTeERRVUZXTEVkQlFYVkNMRTlCUVVFc1EwRkJVU3d3UWtGQlVqczdRVUZEZGtJc1UwRkJWU3hEUVVGQkxGbEJRVUVzUTBGQlZpeEhRVUV3UWl4UFFVRkJMRU5CUVZFc05rSkJRVkk3TzBGQlJYQkNMRTFCUVUwc1EwRkJRenM3T3pzN096czdPenQxUWtGRFdDeHJRa0ZCUVN4SFFVRnZRaXhUUVVGQk8xZEJRMnhDTEVsQlFVTXNRMEZCUVN4UlFVRkVMRU5CUVZVN1RVRkJSU3hKUVVGQkxFVkJRVTBzU1VGQlF5eERRVUZCTEV0QlFVc3NRMEZCUXl4UlFVRlJMRU5CUVVNc1MwRkJTeXhEUVVGRExFbEJRVGxDTzB0QlFWWTdSVUZFYTBJN08zVkNRVVZ3UWl4aFFVRkJMRWRCUVdVc1UwRkJReXhEUVVGRU8wRkJRMklzVVVGQlFUdEpRVUZCTEVsQlFVRXNSMEZCVHl4SlFVRkRMRU5CUVVFc1MwRkJTeXhEUVVGRE8wbEJRMlFzU1VGQlN5eERRVUZCTEVsQlFVTXNRMEZCUVN4TFFVRkxMRU5CUVVNc1NVRkJVQ3hEUVVGTUxFZEJRVzlDTEVOQlFVTXNRMEZCUXl4TlFVRk5MRU5CUVVNN1YwRkROMElzU1VGQlF5eERRVUZCTEZGQlFVUXNRMEZCVlR0TlFVRkJMRWxCUVVFc1JVRkJUU3hKUVVGT08wdEJRVlk3UlVGSVlUczdkVUpCU1dZc1RVRkJRU3hIUVVGUkxGTkJRVUU3VjBGRFRpeFRRVUZWTEVOQlFVRXNXVUZCUVN4RFFVRmhMRU5CUVVNc1NVRkJlRUlzUTBGQk5rSXNTVUZCTjBJc1EwRkJRU3hEUVVGQk8wVkJSRTA3T3pzN1IwRlFjMElzUzBGQlN5eERRVUZET3p0QlFWZG9ReXhOUVVGTkxFTkJRVU03T3pzN096czdPenM3T3pzN2IwSkJRMWdzVVVGQlFTeEhRVUZWTEZOQlFVRTdWMEZEVWl4SlFVRkRMRU5CUVVFc1VVRkJSQ3hEUVVGVk8wMUJRVUVzVVVGQlFTeEZRVUZWTEVsQlFWWTdTMEZCVmp0RlFVUlJPenR2UWtGRlZpeGpRVUZCTEVkQlFXZENMRk5CUVVFN1NVRkRaQ3hKUVVGSExFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVdZN1FVRkRSU3hoUVVGUExFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTXNSMEZCUnl4RFFVRkRMRmRCUVZnc1EwRkJkVUlzU1VGQlF5eERRVUZCTEV0QlFVc3NRMEZCUXl4SlFVRTVRaXhGUVVSVU96dFhRVVZCTEVsQlFVTXNRMEZCUVN4UlFVRkVMRU5CUTBVN1RVRkJRU3hSUVVGQkxFVkJRVlVzUzBGQlZqdE5RVU5CTEVsQlFVRXNSVUZCVFN4RFFVRkRMRU5CUVVNc1MwRkJSaXhEUVVGUkxFbEJRVU1zUTBGQlFTeFRRVUZVTEVOQlJFNDdTMEZFUmp0RlFVaGpPenR2UWtGTmFFSXNTVUZCUVN4SFFVRk5MRk5CUVVFN1NVRkRTaXhKUVVGRExFTkJRVUVzUzBGQlN5eERRVUZETEVkQlFVY3NRMEZCUXl4SlFVRllMRU5CUVVFN1NVRkRRU3hKUVVGRExFTkJRVUVzVTBGQlJDeEhRVUZoTEVOQlFVTXNRMEZCUXl4TFFVRkdMRU5CUVZFc1NVRkJReXhEUVVGQkxFdEJRVXNzUTBGQlF5eEpRVUZtTzFkQlEySXNTVUZCUXl4RFFVRkJMRkZCUVVRc1EwRkRSVHROUVVGQkxGRkJRVUVzUlVGQlZTeExRVUZXTzAxQlEwRXNTVUZCUVN4RlFVRk5MRXRCUkU0N1MwRkVSanRGUVVoSk96dHZRa0ZOVGl4clFrRkJRU3hIUVVGdlFpeFRRVUZCTzFkQlEyeENMRWxCUVVNc1EwRkJRU3hSUVVGRUxFTkJRVlU3VFVGRFVpeFJRVUZCTEVWQlFWVXNRMEZCUXl4RFFVRkRMRWxCUVVNc1EwRkJRU3hMUVVGTExFTkJRVU1zU1VGQlNTeERRVUZETEVsQlJHaENPMDFCUlZJc1NVRkJRU3hGUVVGTkxFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTXNTVUZHVER0TFFVRldPMFZCUkd0Q096dHZRa0ZMY0VJc2FVSkJRVUVzUjBGQmJVSXNVMEZCUVR0WFFVTnFRaXhKUVVGRExFTkJRVUVzVTBGQlJDeEhRVUZoTEVOQlFVTXNRMEZCUXl4TFFVRkdMRU5CUVZFc1NVRkJReXhEUVVGQkxFdEJRVXNzUTBGQlF5eEpRVUZtTzBWQlJFazdPMjlDUVVWdVFpeE5RVUZCTEVkQlFWRXNVMEZCUVR0WFFVTk9MRk5CUVZVc1EwRkJRU3hUUVVGQkxFTkJRVlVzUTBGQlF5eEpRVUZ5UWl4RFFVRXdRaXhKUVVFeFFpeERRVUZCTEVOQlFVRTdSVUZFVFRzN096dEhRWFJDYlVJc1MwRkJTeXhEUVVGRE96dEJRVEJDTjBJc1RVRkJUU3hEUVVGRE96czdPenM3T3pzN096czdPenRuUWtGRFdDeHJRa0ZCUVN4SFFVRnZRaXhUUVVGQk8xZEJRMnhDTEVsQlFVTXNRMEZCUVN4UlFVRkVMRU5CUVZVN1RVRkJSU3hWUVVGQkxFVkJRVmtzUlVGQlpEdExRVUZXTzBWQlJHdENPenRuUWtGRmNFSXNWMEZCUVN4SFFVRmhMRk5CUVVFN1FVRkRXQ3hSUVVGQk8wbEJRVUVzU1VGQlFTeEhRVUZQTEVsQlFVTXNRMEZCUVN4TFFVRkxMRU5CUVVNN1NVRkRaQ3hKUVVGSkxFTkJRVU1zU1VGQlRDeERRVU5GTzAxQlFVRXNSMEZCUVN4RlFVRkxMRU5CUVVNc1NVRkJTU3hKUVVGTUxFTkJRVlVzUTBGQlF5eFBRVUZZTEVOQlFVRXNRMEZCVER0TlFVTkJMRWxCUVVFc1JVRkJUU3hKUVVST08wMUJSVUVzU1VGQlFTeEZRVUZOTEVWQlJrNDdUVUZIUVN4TFFVRkJMRVZCUVU4c1JVRklVRHRMUVVSR08wbEJTMEVzU1VGQlF5eERRVUZCTEZGQlFVUXNRMEZCVlR0TlFVRkJMRlZCUVVFc1JVRkJXU3hKUVVGYU8wdEJRVlk3UlVGUVZ6czdaMEpCVTJJc1YwRkJRU3hIUVVGaExGTkJRVU1zUlVGQlJEdEJRVU5ZTEZGQlFVRTdTVUZCUVN4SlFVRkJMRWRCUVU4c1NVRkJReXhEUVVGQkxFdEJRVXNzUTBGQlF6dEpRVU5rTEVsQlFVa3NRMEZCUXl4TlFVRk1MRU5CUVZrc1NVRkJTU3hEUVVGRExFOUJRVXdzUTBGQllTeEZRVUZpTEVOQlFWb3NSVUZCT0VJc1EwRkJPVUk3U1VGRFFTeEpRVUZETEVOQlFVRXNVVUZCUkN4RFFVRlZPMDFCUVVFc1ZVRkJRU3hGUVVGWkxFbEJRVm83UzBGQlZqdEZRVWhYT3p0blFrRkxZaXhoUVVGQkxFZEJRV1VzVTBGQlFUdEpRVU5pTEV0QlFVc3NRMEZCUXl4SFFVRk9MRU5CUVZVc1lVRkJWaXhEUVVGM1FpeERRVUZETEVsQlFYcENMRU5CUVRoQ0xFTkJRVUVzVTBGQlFTeExRVUZCTzJGQlFVRXNVMEZCUXl4SFFVRkVMRVZCUVUwc1VVRkJUanRSUVVNMVFpeExRVUZETEVOQlFVRXNVVUZCUkN4RFFVRlZPMVZCUVVFc1ZVRkJRU3hGUVVGWkxGRkJRVk1zUTBGQlFTeFpRVUZCTEVOQlFYSkNPMU5CUVZZN1RVRkVORUk3U1VGQlFTeERRVUZCTEVOQlFVRXNRMEZCUVN4SlFVRkJMRU5CUVRsQ08wVkJSR0U3TzJkQ1FVMW1MR2xDUVVGQkxFZEJRVzFDTEZOQlFVRTdTVUZEYWtJc1NVRkJReXhEUVVGQkxHRkJRVVFzUTBGQlFUdEZRVVJwUWpzN1owSkJSMjVDTEVsQlFVRXNSMEZCVFN4VFFVRkJPMGxCUTBvc1MwRkJTeXhEUVVGRExFbEJRVTRzUTBGQlZ5eGhRVUZZTEVWQlFUQkNPMDFCUVVNc1ZVRkJRU3hGUVVGWkxFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTXNWVUZCY0VJN1MwRkJNVUlzUlVGQk1rUTdUVUZCUVN4UlFVRkJMRVZCUVZVc1RVRkJWanRMUVVFelJDeERRVUUwUlN4RFFVRkRMRWxCUVRkRkxFTkJRV3RHTEVOQlFVRXNVMEZCUVN4TFFVRkJPMkZCUVVFc1UwRkJReXhIUVVGRUxFVkJRVTBzVVVGQlRqdFJRVVZvUml4SlFVRkhMRkZCUVZFc1EwRkJReXhQUVVGVUxFdEJRVzlDTEVsQlFYWkNPMVZCUTBVc1MwRkJReXhEUVVGQkxHRkJRVVFzUTBGQlFTeEZRVVJHT3p0TlFVWm5SanRKUVVGQkxFTkJRVUVzUTBGQlFTeERRVUZCTEVsQlFVRXNRMEZCYkVZc1EwRkxReXhEUVVGRExFOUJRVVFzUTBGTVJDeERRVXRSTEZOQlFVTXNRMEZCUkN4RlFVRkpMRWRCUVVvc1JVRkJVeXhSUVVGVUxFZEJRVUVzUTBGTVVqdEZRVVJKT3p0blFrRlZUaXhOUVVGQkxFZEJRVkVzVTBGQlFUdFhRVU5PTEZOQlFWVXNRMEZCUVN4TFFVRkJMRU5CUVUwc1EwRkJReXhKUVVGcVFpeERRVUZ6UWl4SlFVRjBRaXhEUVVGQkxFTkJRVUU3UlVGRVRUczdPenRIUVhCRFpTeExRVUZMTEVOQlFVTTdPMEZCZVVNdlFpeFJRVUZSTEVOQlFVTXNUVUZCVkN4RFFVRm5RaXhMUVVGTExFTkJRVU1zWVVGQlRpeERRVUZ2UWl4SFFVRndRaXhEUVVGb1FpeEZRVUV3UXl4UlFVRlJMRU5CUVVNc1kwRkJWQ3hEUVVGM1FpeFhRVUY0UWl4RFFVRXhReUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW5SbGJYQnNZWFJsY3lBOUlIdDlYRzUwWlcxd2JHRjBaWE5iSjBGd2NDZGRJRDBnY21WeGRXbHlaU0FuTGk5MFpXMXdiR0YwWlhNdllYQndMbXB6ZUNkY2JuUmxiWEJzWVhSbGMxc25WSGx3WlVKdmVDZGRJRDBnY21WeGRXbHlaU0FuTGk5MFpXMXdiR0YwWlhNdmRIbHdaVjlpYjNndWFuTjRKMXh1ZEdWdGNHeGhkR1Z6V3lkR1lXNWplVWx1Y0hWMEoxMGdQU0J5WlhGMWFYSmxJQ2N1TDNSbGJYQnNZWFJsY3k5bVlXNWplVjlwYm5CMWRDNXFjM2duWEc1Y2JtTnNZWE56SUhkcGJtUnZkeTVHWVc1amVVbHVjSFYwSUdWNGRHVnVaSE1nVW1WaFkzUXVRMjl0Y0c5dVpXNTBYRzRnSUdOdmJYQnZibVZ1ZEZkcGJHeE5iM1Z1ZERvZ1BUNWNiaUFnSUNCQWMyVjBVM1JoZEdVZ2V5QmtZWFJoT2lCQWNISnZjSE11Y0hKdmRtbGtaWEl1YzNSaGRHVXVaR0YwWVNCOVhHNGdJR05vWVc1blpVaGhibVJzWlhJNklDaGxLU0E5UGx4dUlDQWdJR1JoZEdFZ1BTQkFjM1JoZEdVdVpHRjBZVnh1SUNBZ0lHUmhkR0ZiUUhCeWIzQnpMbTVoYldWZElEMGdaUzUwWVhKblpYUXVkbUZzZFdWY2JpQWdJQ0JBYzJWMFUzUmhkR1VnWkdGMFlUb2daR0YwWVZ4dUlDQnlaVzVrWlhJNklEMCtYRzRnSUNBZ2RHVnRjR3hoZEdWeld5ZEdZVzVqZVVsdWNIVjBKMTB1WW1sdVpDaEFLU2dwWEc1Y2JseHVZMnhoYzNNZ2QybHVaRzkzTGxSNWNHVkNiM2dnWlhoMFpXNWtjeUJTWldGamRDNURiMjF3YjI1bGJuUmNiaUFnWldScGRFMXZaR1U2SUQwK1hHNGdJQ0FnUUhObGRGTjBZWFJsSUdWa2FYUk5iMlJsT2lCMGNuVmxYRzRnSUdOaGJtTmxiRVZrYVhSTmIyUmxPaUE5UGx4dUlDQWdJR2xtSUVCemRHRjBaUzVrWVhSaExsOXVaWGRjYmlBZ0lDQWdJSEpsZEhWeWJpQkFjSEp2Y0hNdVlYQndMbVJsYkU1dlpHVlVlWEJsS0VCemRHRjBaUzVrWVhSaEtWeHVJQ0FnSUVCelpYUlRkR0YwWlZ4dUlDQWdJQ0FnWldScGRFMXZaR1U2SUdaaGJITmxYRzRnSUNBZ0lDQmtZWFJoT2lCZkxtTnNiMjVsS0VCa1lYUmhYMk52Y0hrcFhHNGdJSE5oZG1VNklEMCtYRzRnSUNBZ1FIQnliM0J6TG1Gd2NDNXpZWFpsS0NsY2JpQWdJQ0JBWkdGMFlWOWpiM0I1SUQwZ1h5NWpiRzl1WlNoQWMzUmhkR1V1WkdGMFlTbGNiaUFnSUNCQWMyVjBVM1JoZEdWY2JpQWdJQ0FnSUdWa2FYUk5iMlJsT2lCbVlXeHpaVnh1SUNBZ0lDQWdYMjVsZHpvZ1ptRnNjMlZjYmlBZ1kyOXRjRzl1Wlc1MFYybHNiRTF2ZFc1ME9pQTlQbHh1SUNBZ0lFQnpaWFJUZEdGMFpTQjdYRzRnSUNBZ0lDQmxaR2wwVFc5a1pUb2dJU0ZBY0hKdmNITXVaR0YwWVM1ZmJtVjNYRzRnSUNBZ0lDQmtZWFJoT2lCQWNISnZjSE11WkdGMFlWeHVJQ0FnSUgxY2JpQWdZMjl0Y0c5dVpXNTBSR2xrVFc5MWJuUTZJRDArWEc0Z0lDQWdRR1JoZEdGZlkyOXdlU0E5SUY4dVkyeHZibVVvUUhCeWIzQnpMbVJoZEdFcFhHNGdJSEpsYm1SbGNqb2dQVDVjYmlBZ0lDQjBaVzF3YkdGMFpYTmJKMVI1Y0dWQ2IzZ25YUzVpYVc1a0tFQXBLQ2xjYmx4dVhHNWpiR0Z6Y3lCM2FXNWtiM2N1UVhCd0lHVjRkR1Z1WkhNZ1VtVmhZM1F1UTI5dGNHOXVaVzUwWEc0Z0lHTnZiWEJ2Ym1WdWRGZHBiR3hOYjNWdWREb2dQVDVjYmlBZ0lDQkFjMlYwVTNSaGRHVWdleUJ1YjJSbFgzUjVjR1Z6T2lCYlhTQjlYRzRnSUc1bGQwNXZaR1ZVZVhCbE9pQTlQbHh1SUNBZ0lHeHBjM1FnUFNCQWMzUmhkR1V1Ym05a1pWOTBlWEJsYzF4dUlDQWdJR3hwYzNRdWNIVnphRnh1SUNBZ0lDQWdYMmxrT2lBb2JtVjNJRVJoZEdVcExuWmhiSFZsVDJZb0tWeHVJQ0FnSUNBZ1gyNWxkem9nZEhKMVpWeHVJQ0FnSUNBZ2JtRnRaVG9nSnlkY2JpQWdJQ0FnSUhScGRHeGxPaUFuSjF4dUlDQWdJRUJ6WlhSVGRHRjBaU0J1YjJSbFgzUjVjR1Z6T2lCc2FYTjBYRzRnSUNBZ2NtVjBkWEp1WEc0Z0lHUmxiRTV2WkdWVWVYQmxPaUFvWld3cElEMCtYRzRnSUNBZ2JHbHpkQ0E5SUVCemRHRjBaUzV1YjJSbFgzUjVjR1Z6WEc0Z0lDQWdiR2x6ZEM1emNHeHBZMlVnYkdsemRDNXBibVJsZUU5bUtHVnNLU3dnTVZ4dUlDQWdJRUJ6WlhSVGRHRjBaU0J1YjJSbFgzUjVjR1Z6T2lCc2FYTjBYRzRnSUNBZ2NtVjBkWEp1WEc0Z0lHeHZZV1JPYjJSbFZIbHdaWE02SUQwK1hHNGdJQ0FnY1hkbGMzUXVaMlYwS0NjdmJtOWtaVjkwZVhCbGN5Y3BMblJvWlc0Z0tIaG9jaXdnY21WemNHOXVjMlVwSUQwK1hHNGdJQ0FnSUNCQWMyVjBVM1JoZEdVZ2JtOWtaVjkwZVhCbGN6b2djbVZ6Y0c5dWMyVmJKMjV2WkdWZmRIbHdaWE1uWFZ4dUlDQWdJQ0FnSTJOdmJuTnZiR1V1Ykc5bktISmxjM0J2Ym5ObEtUdGNiaUFnSUNBZ0lISmxkSFZ5Ymx4dUlDQWdJSEpsZEhWeWJseHVJQ0JqYjIxd2IyNWxiblJFYVdSTmIzVnVkRG9nUFQ1Y2JpQWdJQ0JBYkc5aFpFNXZaR1ZVZVhCbGN5Z3BYRzRnSUNBZ2NtVjBkWEp1WEc0Z0lITmhkbVU2SUQwK1hHNGdJQ0FnY1hkbGMzUXVjRzl6ZENnbkwyNXZaR1ZmZEhsd1pYTW5MQ0I3Ym05a1pWOTBlWEJsY3pvZ1FITjBZWFJsTG01dlpHVmZkSGx3WlhOOUxDQmtZWFJoVkhsd1pUb2dKMnB6YjI0bktTNTBhR1Z1S0NoNGFISXNJSEpsYzNCdmJuTmxLU0E5UGx4dUkyTnZibk52YkdVdWJHOW5LRnQ0YUhJc0lISmxjM0J2Ym5ObFhTazdYRzRnSUNBZ0lDQnBaaUJ5WlhOd2IyNXpaUzV6ZFdOalpYTnpJRDA5SUNkUFN5ZGNiaUFnSUNBZ0lDQWdRR3h2WVdST2IyUmxWSGx3WlhNb0tWeHVJQ0FnSUNBZ2NtVjBkWEp1WEc0Z0lDQWdLUzVqWVhSamFDQW9aU3dnZUdoeUxDQnlaWE53YjI1elpTa2dMVDVjYmlOamIyNXpiMnhsTG14dlp5aGJaU3dnZUdoeUxDQnlaWE53YjI1elpWMHBPMXh1SUNBZ0lDQWdjbVYwZFhKdVhHNGdJQ0FnY21WMGRYSnVYRzRnSUhKbGJtUmxjam9nUFQ1Y2JpQWdJQ0IwWlcxd2JHRjBaWE5iSjBGd2NDZGRMbUpwYm1Rb1FDa29LVnh1WEc1Y2JseHVVbVZoWTNSRVQwMHVjbVZ1WkdWeUlGSmxZV04wTG1OeVpXRjBaVVZzWlcxbGJuUW9RWEJ3S1N3Z1pHOWpkVzFsYm5RdVoyVjBSV3hsYldWdWRFSjVTV1FvSjNKbFlXTjBMV0Z3Y0NjcFhHNGlYWDA9XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHR5cGVfYm94X2xpc3QgPSB0aGlzLnN0YXRlLm5vZGVfdHlwZXMubWFwKCh0eXBlKSA9PlxuICAgICAgPFR5cGVCb3ggZGF0YT17dHlwZX0gYXBwPXt0aGlzfSBrZXk9e3R5cGUuX2lkfS8+XG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcFwiPlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLm5ld05vZGVUeXBlfT5BREQ8L2J1dHRvbj5cbiAgICAgIHt0eXBlX2JveF9saXN0fVxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4oXG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgZGVmYXVsdFZhbHVlPXt0aGlzLnN0YXRlLmRhdGFbdGhpcy5wcm9wcy5uYW1lXX0gb25DaGFuZ2U9e3RoaXMuY2hhbmdlSGFuZGxlcn0vPlxuICApO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF92aWV3ID1cbiAgICA8ZGl2IGNsYXNzTmFtZT1cInR5cGUtYm94XCI+XG4gICAgICB7dGhpcy5zdGF0ZS5kYXRhLm5hbWV9XG4gICAgICAvXG4gICAgICB7dGhpcy5zdGF0ZS5kYXRhLnRpdGxlfVxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmVkaXRNb2RlfT5FRElUPC9idXR0b24+XG4gICAgPC9kaXY+O1xuICB2YXIgX2VkaXQgPVxuICAgIDxkaXYgY2xhc3NOYW1lPVwidHlwZS1ib3hcIj5cbiAgICAgIDxGYW5jeUlucHV0IHByb3ZpZGVyPXt0aGlzfSBuYW1lPVwibmFtZVwiLz5cbiAgICAgIC9cbiAgICAgIDxGYW5jeUlucHV0IHByb3ZpZGVyPXt0aGlzfSBuYW1lPVwidGl0bGVcIi8+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuc2F2ZX0+U0FWRTwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNhbmNlbEVkaXRNb2RlfT5DQU5DRUw8L2J1dHRvbj5cbiAgICA8L2Rpdj47XG4gIHJldHVybiB0aGlzLnN0YXRlLmVkaXRNb2RlID8gX2VkaXQgOiBfdmlldztcbn07Il19
